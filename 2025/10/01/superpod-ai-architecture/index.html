<!DOCTYPE html><html class=no-js lang=zh> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content=深度剖析NVIDIA“超节点”(SuperPod)这一革命性AI算力架构。本文从核心定义出发，追溯其从Hopper到Blackwell的技术演进，详解NVLink、NVSwitch等硬件互联，分析Fat-Tree等网络拓扑，并探讨PGAS编程模型如何赋能MoE等未来应用。 name=description><meta content="reiase <reiase@gmail.com>" name=author><link href=https://reiase.github.io/2025/10/01/superpod-ai-architecture/ rel=canonical><link href=../../../04/28/dist_probe_3/ rel=prev><link href=../../../../assets/favicon.png rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.6.21" name=generator><title>深度解析NVIDIA的超节点架构演进 - Overfitting: From Algorithms to Silicon</title><link href=../../../../assets/stylesheets/main.2a3383ac.min.css rel=stylesheet><link href=../../../../assets/stylesheets/palette.06af60db.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Source+Han+Sans+SC:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Source Han Sans SC";--md-code-font:"Roboto Mono"}</style><link href=../../../../assets/_markdown_exec_pyodide.css rel=stylesheet><link href=../../../../extra.css rel=stylesheet><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-LMDTYMWWTF"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-LMDTYMWWTF",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-LMDTYMWWTF",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script> <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head> <body data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=default dir=ltr> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#_1> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav aria-label=页眉 class="md-header__inner md-grid"> <a aria-label="Overfitting: From Algorithms to Silicon" class="md-header__button md-logo" data-md-component=logo href=../../../.. title="Overfitting: From Algorithms to Silicon"> <svg viewbox="0 0 89 89" xmlns=http://www.w3.org/2000/svg> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z></path> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"></path> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z></path> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"></path> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Overfitting: From Algorithms to Silicon </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 深度解析NVIDIA的超节点架构演进 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Switch to dark mode" class=md-option data-md-color-accent=indigo data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary=indigo data-md-color-scheme=default id=__palette_0 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"></path></svg> </label> <input aria-label="Switch to light mode" class=md-option data-md-color-accent=indigo data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary=black data-md-color-scheme=slate id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_0 hidden title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=搜索 autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=搜索 required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label=查找 class=md-search__options> <a aria-label=分享 class="md-search__icon md-icon" data-clipboard data-clipboard-text data-md-component=search-share href=javascript:void(0) tabindex=-1 title=分享> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button aria-label=清空当前内容 class="md-search__icon md-icon" tabindex=-1 title=清空当前内容 type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix tabindex=0> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> <nav aria-label=标签 class=md-tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a class=md-tabs__link href=../../../..> 博客 </a> </li> <li class=md-tabs__item> <a href=../../../../tags/ class=md-tabs__link> 标签 </a> </li> <li class=md-tabs__item> <a href=../../../../nodes/AdamW/ class=md-tabs__link> 代码片段 </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=导航栏 class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="Overfitting: From Algorithms to Silicon" class="md-nav__button md-logo" data-md-component=logo href=../../../.. title="Overfitting: From Algorithms to Silicon"> <svg viewbox="0 0 89 89" xmlns=http://www.w3.org/2000/svg> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z></path> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"></path> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z></path> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"></path> </svg> </a> Overfitting: From Algorithms to Silicon </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_1 type=checkbox> <div class="md-nav__link md-nav__container"> <a class=md-nav__link href=../../../..> <span class=md-ellipsis> 博客 </span> </a> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=true aria-labelledby=__nav_1_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> 博客 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_1_2 type=checkbox> <label class=md-nav__link for=__nav_1_2 id=__nav_1_2_label tabindex> <span class=md-ellipsis> 归档 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_1_2_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_1_2> <span class="md-nav__icon md-icon"></span> 归档 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../archive/2025/ class=md-nav__link> <span class=md-ellipsis> 2025 </span> </a> </li> <li class=md-nav__item> <a href=../../../../archive/2024/ class=md-nav__link> <span class=md-ellipsis> 2024 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_1_3 type=checkbox> <label class=md-nav__link for=__nav_1_3 id=__nav_1_3_label tabindex> <span class=md-ellipsis> 分类 </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_1_3_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> 分类 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../category/ai%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD/ class=md-nav__link> <span class=md-ellipsis> AI基础设施 </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/fp8/ class=md-nav__link> <span class=md-ellipsis> FP8 </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/llm/ class=md-nav__link> <span class=md-ellipsis> LLM </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/rl/ class=md-nav__link> <span class=md-ellipsis> RL </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/training/ class=md-nav__link> <span class=md-ellipsis> Training </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/training-dynamics/ class=md-nav__link> <span class=md-ellipsis> Training Dynamics </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83/ class=md-nav__link> <span class=md-ellipsis> 分布式训练 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../tags/ class=md-nav__link> <span class=md-ellipsis> 标签 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../nodes/AdamW/ class=md-nav__link> <span class=md-ellipsis> 代码片段 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a class=md-nav__link href=../../../..> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> <span class=md-ellipsis> 回到主页 </span> </a> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> 元数据 </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"></path></svg> <time class=md-ellipsis datetime="2025-10-01 00:00:00+00:00">2025年10月1日</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"></path></svg> <span class=md-ellipsis> 分类于 <a href=../../../../category/ai%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD/ >AI基础设施</a>, <a href=../../../../category/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%AD%E7%BB%83/ >分布式训练</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"></path></svg> <span class=md-ellipsis> 需要 12 分钟阅读时间 </span> </div> </li> </ul> </nav> </li> </ul> </nav> <nav aria-label=目录 class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#_1> <span class=md-ellipsis> 什么是超节点 </span> </a> <nav aria-label=什么是超节点 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#nvidia> <span class=md-ellipsis> NVIDIA超节点产品 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_2> <span class=md-ellipsis> 超节点技术趋势分析 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_3> <span class=md-ellipsis> 超节点硬件系统 </span> </a> <nav aria-label=超节点硬件系统 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_4> <span class=md-ellipsis> 硬件互联技术 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_5> <span class=md-ellipsis> 电互联关键技术基础 </span> </a> <nav aria-label=电互联关键技术基础 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#laneserdes> <span class=md-ellipsis> 基础物理单元：Lane与SerDes </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#oif-cei> <span class=md-ellipsis> 标准化接口：OIF-CEI规范 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#cei> <span class=md-ellipsis> 主流协议的CEI实现 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_6> <span class=md-ellipsis> 电互联交换芯片的演进 </span> </a> <nav aria-label=电互联交换芯片的演进 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_7> <span class=md-ellipsis> 数据中心网络交换芯片 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#gpunvswitch> <span class=md-ellipsis> GPU专用交换芯片：NVSwitch </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_8> <span class=md-ellipsis> 互联拓扑 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_9> <span class=md-ellipsis> 软件系统 </span> </a> <nav aria-label=软件系统 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#gpu> <span class=md-ellipsis> 现代GPU访存体系 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_10> <span class=md-ellipsis> 超节点访存体系 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_11> <span class=md-ellipsis> 软件编程模型 </span> </a> <nav aria-label=软件编程模型 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#spmd-bsp> <span class=md-ellipsis> 主流范式及其瓶颈：SPMD 与 BSP </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#pgas> <span class=md-ellipsis> PGAS 与混合编程 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_12> <span class=md-ellipsis> 参考文献 </span> </a> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <nav class=md-tags> <a class=md-tag href=../../../../tags/#tag:ai算力>AI算力</a> <a class=md-tag href=../../../../tags/#tag:blackwell>Blackwell</a> <a class=md-tag href=../../../../tags/#tag:hopper>Hopper</a> <a class=md-tag href=../../../../tags/#tag:moe>MoE</a> <a class=md-tag href=../../../../tags/#tag:nvidia>NVIDIA</a> <a class=md-tag href=../../../../tags/#tag:nvlink>NVLink</a> <a class=md-tag href=../../../../tags/#tag:nvswitch>NVSwitch</a> <a class=md-tag href=../../../../tags/#tag:pgas>PGAS</a> <a class=md-tag href=../../../../tags/#tag:serdes>SerDes</a> <a class=md-tag href=../../../../tags/#tag:superpod>SuperPod</a> <a class=md-tag href=../../../../tags/#tag:分布式训练>分布式训练</a> <a class=md-tag href=../../../../tags/#tag:硬件互联>硬件互联</a> <a class=md-tag href=../../../../tags/#tag:系统架构>系统架构</a> <a class=md-tag href=../../../../tags/#tag:超节点>超节点</a> </nav> <h1>深度解析NVIDIA的超节点架构演进</h1> <h2 id=_1>什么是超节点<a class=headerlink href=#_1 title="Permanent link">¶</a></h2> <p>超节点是借助高速无损互联技术，突破传统计算节点以CPU和PCIe总线为核心的通信边界，构建的新一代计算架构。<strong>在硬件互联层面</strong>，超节点采用NVLink、CXL或专用交换网络等先进互连协议，在加速卡（GPU/NPU）之间构建了高带宽、低延迟的直接通信域（Scale-Up Domain，或称高带宽域，High Bandwidth Domain, HBD）。这种设计实现了计算单元间的大规模高效互连，缓解了传统架构中因GPU间通信必须经由CPU与PCIe总线而形成的性能瓶颈，为海量数据并行处理奠定了物理基础。<strong>在软件与系统层面</strong>，其资源管理范式也随之转变：硬件间的高速通信通常直接绕过（bypass）操作系统内核繁复的协议栈，转而通过用户态集合通信库（如NCCL、HCCL）进行调度，从而显著降低通信开销。</p> <h3 id=nvidia>NVIDIA超节点产品<a class=headerlink href=#nvidia title="Permanent link">¶</a></h3> <p>2020年，NVIDIA在其推出的HGX-A100系统中，通过第二代NVSwitch将两个八卡A100以背板方式连接，构成一个16卡系统。2022年，随Hopper架构推出的第三代NVSwitch支持更灵活的组网方式，能够实现32颗GH200（32x GPU）的互联（NVL32）<sup id=fnref:gh200><a class=footnote-ref href=#fn:gh200>1</a></sup>，最大可实现256颗GH100的互联（NVL256）。2024年Blackwell发布时，第四代NVSwitch能够实现36个GB200超级芯片（共72颗GPU）的互联（NVL72）<sup id=fnref:gb200><a class=footnote-ref href=#fn:gb200>2</a></sup>，最大支持288个GB200超级芯片（共576颗GPU）的互联。未来的Vera Rubin系列将进一步实现144个超级芯片的互联。以下是Hopper与Blackwell两代GPU所对应的超节点产品：</p> <table> <thead> <tr> <th style="text-align: right;">参数</th> <th style="text-align: center;">NVL32</th> <th style="text-align: center;">GH200 SuperPod</th> <th style="text-align: center;">NVL72</th> <th style="text-align: center;">GB200 SuperPod</th> </tr> </thead> <tbody> <tr> <td style="text-align: right;"><strong>架构</strong></td> <td style="text-align: center;">Hopper</td> <td style="text-align: center;">Hopper</td> <td style="text-align: center;">Blackwell</td> <td style="text-align: center;">Blackwell</td> </tr> <tr> <td style="text-align: right;"><strong>HBM 大小</strong></td> <td style="text-align: center;">32 x 144GB = 4.6 TB</td> <td style="text-align: center;">256 x 96GB = 24.5 TB</td> <td style="text-align: center;">36 x 384GB = 13.8 TB</td> <td style="text-align: center;">288 x 384GB = 110 TB</td> </tr> <tr> <td style="text-align: right;"><strong>LPDDR5X 大小</strong></td> <td style="text-align: center;">32 x 480GB = 15.4 TB</td> <td style="text-align: center;">256 x 480GB = 123 TB</td> <td style="text-align: center;">36 x 480GB = 17.3 TB</td> <td style="text-align: center;">288 x 480GB = 138 TB</td> </tr> <tr> <td style="text-align: right;"><strong>HBM 带宽</strong></td> <td style="text-align: center;">3.35 TB/s</td> <td style="text-align: center;">4.8 TB/s</td> <td style="text-align: center;">8 TB/s</td> <td style="text-align: center;">8 TB/s</td> </tr> <tr> <td style="text-align: right;"><strong>FP16 (FLOPS)</strong></td> <td style="text-align: center;">32 PetaFLOPS</td> <td style="text-align: center;">256 PetaFLOPS</td> <td style="text-align: center;">180 PetaFLOPS</td> <td style="text-align: center;">1440 PetaFLOPS</td> </tr> <tr> <td style="text-align: right;"><strong>INT8 (OPS)</strong></td> <td style="text-align: center;">64 PetaOPS</td> <td style="text-align: center;">64 PetaOPS</td> <td style="text-align: center;">360 PetaOPS</td> <td style="text-align: center;">2880 PetaOPS</td> </tr> <tr> <td style="text-align: right;"><strong>FP8 (FLOPS)</strong></td> <td style="text-align: center;">64 PetaFLOPS</td> <td style="text-align: center;">64 PetaFLOPS</td> <td style="text-align: center;">360 PetaFLOPS</td> <td style="text-align: center;">2880 PetaFLOPS</td> </tr> <tr> <td style="text-align: right;"><strong>FP6 (FLOPS)</strong></td> <td style="text-align: center;">N/A</td> <td style="text-align: center;">N/A</td> <td style="text-align: center;">360 PetaFLOPS</td> <td style="text-align: center;">2880 PetaFLOPS</td> </tr> <tr> <td style="text-align: right;"><strong>FP4 (FLOPS)</strong></td> <td style="text-align: center;">N/A</td> <td style="text-align: center;">N/A</td> <td style="text-align: center;">720 PetaFLOPS</td> <td style="text-align: center;">5760 PetaFLOPS</td> </tr> <tr> <td style="text-align: right;"><strong>GPU-GPU 带宽</strong></td> <td style="text-align: center;">0.9 TB/s</td> <td style="text-align: center;">0.9 TB/s</td> <td style="text-align: center;">1.8 TB/s</td> <td style="text-align: center;">1.8 TB/s</td> </tr> <tr> <td style="text-align: right;"><strong>NVSwitch</strong></td> <td style="text-align: center;">Gen3 64 Port</td> <td style="text-align: center;">Gen3 64 Port</td> <td style="text-align: center;">Gen4 72 Port</td> <td style="text-align: center;">Gen4 72 Port</td> </tr> <tr> <td style="text-align: right;"><strong>NVLink 带宽</strong></td> <td style="text-align: center;">36 x 0.9 TB/s = 32 TB/s</td> <td style="text-align: center;">256 x 0.9 TB/s = 230 TB/s</td> <td style="text-align: center;">72 x 1.8 TB/s = 130 TB/s</td> <td style="text-align: center;">576 x 1.8 TB/s = 1 PB/s</td> </tr> <tr> <td style="text-align: right;"><strong>Ethernet 带宽</strong></td> <td style="text-align: center;">16 x 200 Gb/s</td> <td style="text-align: center;">256 x 200 Gb/s</td> <td style="text-align: center;">18 x 400 Gb/s</td> <td style="text-align: center;">576 x 400 Gb/s</td> </tr> <tr> <td style="text-align: right;"><strong>IB 带宽</strong></td> <td style="text-align: center;">32 x 400 Gb/s</td> <td style="text-align: center;">256 x 400 Gb/s</td> <td style="text-align: center;">72 x 800 Gb/s</td> <td style="text-align: center;">576 x 800 Gb/s</td> </tr> <tr> <td style="text-align: right;"><strong>GPUs Power</strong></td> <td style="text-align: center;">32 x 1 kW = 32 kW</td> <td style="text-align: center;">256 x 1 kW = 256 kW</td> <td style="text-align: center;">36 x 2.7 kW = 97.2 kW</td> <td style="text-align: center;">Not provided</td> </tr> </tbody> </table> <h3 id=_2>超节点技术趋势分析<a class=headerlink href=#_2 title="Permanent link">¶</a></h3> <p>在2022年Hopper架构发布之际，NVIDIA提出了十年内GPU算力增长1000倍的“黄氏定律” (Huang’s Law)<sup id=fnref:huangs_law><a class=footnote-ref href=#fn:huangs_law>3</a></sup>。其中，低精度数值格式、Tensor Core和工艺进步分别贡献了约16倍、12倍和2.5倍的算力提升。这揭示出NVIDIA是一家系统供应商而非单纯的芯片供应商，其算力增长并非仅依赖芯片本身。</p> <p>回顾从Volta到Rubin系列的演进，NVIDIA的技术战略非常清晰：<strong>通过算力、互联、存储和封装等多个维度的协同创新，实现系统层面的指数级性能增长</strong> 。其目标是每两年提供约6倍的系统算力提升，并计划在十年内实现7000倍的增长（若考虑芯片在低精度和稀疏上能力的进步，这个增长可能超过10000倍）。这种复合式增长并非依赖单一技术突破，而是通过一套精心设计的“组合策略”实现：</p> <ul> <li><strong>单芯片算力</strong>：每代提升约3倍。</li> <li><strong>Scale-Up域</strong>：互联规模和带宽同步翻倍。</li> <li><strong>内存系统</strong>：HBM带宽翻倍，容量提升3倍。</li> </ul> <p>从Blackwell架构开始，<strong>先进封装</strong> 成为其算力增长的又一关键。通过NV-HBI（NVIDIA High-Bandwidth Interface）技术<sup id=fnref:nvhbi><a class=footnote-ref href=#fn:nvhbi>4</a></sup>，NVIDIA将两颗GPU裸片（Die）高速互联，提供高达10 TB/s的双向带宽，使它们在逻辑上可作为单一、统一的GPU工作。这标志着NVIDIA的增长引擎已从单纯提升单点指标（如芯片算力或互联速率），全面转向以系统为单位的整体工程优化，从而确保稳定且可预测的性能飞跃。</p> <table> <thead> <tr> <th>系列</th> <th>Volta</th> <th>Ampere</th> <th>Hopper</th> <th>Blackwell</th> <th>Rubin</th> </tr> </thead> <tbody> <tr> <td>SKU</td> <td>V100</td> <td>A100(HGX)</td> <td>GH200(CPU+GPU)</td> <td>GB200(CPU+2GPU)</td> <td>?VR200(CPU+2GPU)</td> </tr> <tr> <td>单卡算力（FP16）</td> <td>0.125 PFLOPS</td> <td>0.312 PFLOPS</td> <td>0.9 PFLOPS</td> <td>2.25 PFLOPS x 2</td> <td></td> </tr> <tr> <td>系统规模</td> <td>8</td> <td>16(OEM提供)<sup id=fnref:hgx_a100><a class=footnote-ref href=#fn:hgx_a100>10</a></sup></td> <td>32</td> <td>72</td> <td></td> </tr> <tr> <td>系统总算力</td> <td>1 PFLOPS</td> <td>5 PFLOPS</td> <td>32 PFLOPS</td> <td>180 PFLOPS</td> <td></td> </tr> <tr> <td>系统HBM总容量</td> <td>8 x 32GB = 0.256 TB</td> <td>16 x 80GB = 1.28 TB</td> <td>32 x 144GB = 4.6 TB|</td> <td>36 x 384GB = 13.8 TB</td> <td></td> </tr> </tbody> </table> <p>上述代际指标体现的是“系统级（按FP16口径）”的复合放大轨迹。结合黄氏定理（Huang’s Law）所给出的十年≈1000倍增长拆解：低精度数值格式≈16×、Tensor Core与矩阵引擎≈12×、制程与微架构≈2.5×<sup id=fnref2:huangs_law><a class=footnote-ref href=#fn:huangs_law>3</a></sup>，可以得出一个结论：<strong>单纯依赖芯片工艺或单点架构优化已无法支撑指数级提升，必须依靠多维协同的系统工程</strong>。</p> <p>超节点正是这一“系统化方法”的工程化载体：以FP16系统算力观测，每两年约≈6×，十年区间潜在≈7000×；若叠加Blackwell世代引入的FP6/FP4等更低精度执行路径，其有效可用算力（在可接受精度与稀疏/混合精度策略前提下）还可能进一步放大到“&gt;10000×”数量级（例如：FP4 聚合算力 720 PetaFLOPS（NVL72）至 5760 PetaFLOPS（GB200 SuperPod）相较 Hopper FP8 64 PetaFLOPS 的 11–90× 跨代放大）。注：这里不同“倍数”来源于不同统计口径（纯FP16 vs. 引入低精度/稀疏优化后的可达理论峰值）。<strong>对于任何希望在超节点方向与NVIDIA竞争的厂商而言，系统性协同是必须的战略</strong> 。</p> <p>因此，超节点已不仅是硬件形态命名，而是一个将“互联-存储-算力-编程模型”联动优化的系统工程范式。竞争策略若缺失系统性视角，极易在实际大模型训练/推理场景中遭遇利用率折损与规模效率崖降。下文将分别从硬件基石与软件生态两个层面继续拆解其内在结构。</p> <h2 id=_3>超节点硬件系统<a class=headerlink href=#_3 title="Permanent link">¶</a></h2> <p>如前文所述，超节点通过系统级创新来支撑算力曲线的持续指数级增长。之所以要突破传统的”Scale-Out”扩展AI集群的范式，主要原因在于：</p> <ul> <li><strong>通信瓶颈</strong>：PCIe与以太网的带宽增长难以匹配NVLink每两年带宽翻倍的快速增长。以H100为例，NVLink 4.0提供900GB/s的GPU间带宽，而PCIe 5.0 x16仅128GB/s，相差7倍。随着模型规模增长，这种差距会成为整个AI算力集群的核心瓶颈。</li> <li><strong>内存墙问题</strong>：单节点GPU的显存容量有限，单纯HBM的迭代节奏难以满足大模型因模型规模和序列长度而快速增长的显存需求。GPT-4级别的模型需要数TB的显存，远超单节点8卡GPU的容量。</li> <li><strong>扩展效率递减</strong>：在Scale-Out域，算力利用率随节点规模的增长而衰减。</li> </ul> <p>超节点通过”Scale-Up”架构创新地解决了这些问题：在机柜级别构建高速无损互联域，将数十甚至数百个GPU通过NVLink/NVSwitch直接互联，形成一个逻辑上的”超级GPU”。这种架构转变不仅是技术参数的升级，更是AI基础设施设计理念的根本性变革。为了系统性地理解超节点硬件架构，我们需要从多芯片系统的互联层次出发，分析从微观到宏观的技术栈如何协同工作，最终支撑起大规模AI训练的需求。下图展示了从处理单元到集群的完整硬件构建蓝图，其中超节点最大的创新在于引入了”SuperPod”这一新层级，彻底改变了传统AI集群的互联拓扑。</p> <div style=display:flex;gap:1rem;flex-wrap:wrap;> <div style=flex:1;min-width:200px;> <pre class=mermaid><code>block-beta
    columns 4
    PE0["PE"] space:2 PE1["PE"]
    space:4
    Die0["Die"] space:2 Die1["Die"]
    space:4
    Chip0["Chip"] space:2 Chip1["Chip"]
    space:4
    Node0["Node"] space:2 Node1["Node"]
    space:4
    Cluster0["Cluster"] space:2 Cluster1["Cluster"]

    PE0&lt;-- "NOC" --&gt;PE1
    Die0&lt;-- "D2D" --&gt;Die1
    Chip0&lt;-- "C2C" --&gt;Chip1
    Node0&lt;-- "RDMA" --&gt;Node1
    Cluster0&lt;-- "DCN" --&gt;Cluster1

    PE0-- "NOC" --&gt;Die0
    PE1-- "NOC" --&gt;Die1
    Die0-- "Chiplet" --&gt;Chip0
    Die1-- "Chiplet" --&gt;Chip1
    Chip0-- "PCIE" --&gt;Node0
    Chip1-- "PCIE" --&gt;Node1
    Node0-- "RDMA" --&gt;Cluster0
    Node1-- "RDMA" --&gt;Cluster1</code></pre> <center> 常规AI算力集群 </center> </div> <div style=flex:1;min-width:200px;> <pre class=mermaid><code>block-beta
    columns 4
    PE0["PE"] space:2 PE1["PE"]
    space:4
    Die0["Die"] space:2 Die1["Die"]
    space:4
    Chip0["Chip"] space:2 Chip1["Chip"]
    space:4
    Node0["Node"] space:2 Node1["Node"]
    space:4
    Pod0["SuperPod"] space:2 Pod1["SuperPod"]
    space:4
    Cluster0["Cluster"] space:2 Cluster1["Cluster"]

    PE0&lt;-- "NOC" --&gt;PE1
    Die0&lt;-- "D2D" --&gt;Die1
    Chip0&lt;-- "C2C" --&gt;Chip1
    Node0&lt;-- "C2C" --&gt;Node1
    Pod0&lt;-- "RDMA" --&gt;Pod1
    Cluster0&lt;-- "DCN" --&gt;Cluster1

    PE0-- "NOC" --&gt;Die0
    PE1-- "NOC" --&gt;Die1
    Die0-- "Chiplet" --&gt;Chip0
    Die1-- "Chiplet" --&gt;Chip1
    Chip0-- "PCIE" --&gt;Node0
    Chip1-- "PCIE" --&gt;Node1
    Node0-- "C2C" --&gt;Pod0
    Node1-- "C2C" --&gt;Pod1
    Pod0-- "RDMA" --&gt;Cluster0
    Pod1-- "RDMA" --&gt;Cluster1</code></pre> <center> 超节点AI算力集群 </center> </div> </div> <p>现代AI超算系统的硬件架构遵循自底向上的层次化设计原则，每一层都通过特定的互联技术将计算单元组织成更大规模的计算资源。这种层次化设计不仅体现了硬件工程的物理约束，也反映了系统架构师从微观到宏观的资源组织思维：</p> <ol> <li><strong>层级1 - 芯粒内部 (Die)</strong>: 系统的最基本计算单元是 <strong>处理单元 (PE)</strong> ，例如GPU中的流式多处理器(SM)。在单个硅片(<strong>Die</strong>)上，众多的PE通过 <strong>片上网络 (NoC)</strong> 高效互联。</li> <li><strong>层级2 - 芯片 (Chip)</strong>: 借助先进封装技术(Chiplet)，多个独立的 <strong>芯粒 (Die)</strong> 被封装在一起，构成一个完整的 <strong>芯片 (Chip)</strong> 。它们之间通过高速的 <strong>Die-to-Die (D2D)</strong> 接口（如NV-HBI, UCIe）通信，使其在逻辑上表现得像一个单片大芯片。</li> <li><strong>层级3 - 节点 (Node)</strong>: 一个服务器 <strong>节点 (Node)</strong> 通常包含多个 <strong>芯片 (Chip)</strong>（如多块GPU）和CPU。节点内的GPU之间通过 <strong>芯片间互联 (C2C)</strong> 技术（如NVLink + NVSwitch）构建高速通信域，而GPU与CPU之间则主要通过 <strong>PCIe总线</strong> 连接。</li> <li><strong>层级4 - 集群 (Cluster)</strong>: 多个 <strong>节点 (Node)</strong> 组合成一个 <strong>集群 (Cluster)</strong>。节点之间的通信（Scale-Out）依赖于 <strong>数据中心网络</strong> ，通常使用基于 <strong>RDMA</strong> 的InfiniBand或RoCE高速网络。</li> </ol> <h3 id=_4>硬件互联技术<a class=headerlink href=#_4 title="Permanent link">¶</a></h3> <p>超节点的核心特征在于通过高速无损互联技术构建大规模计算域。其互联体系遵循从微观到宏观的层次化结构，从芯片内部的片上网络到集群级的数据中心网络，形成了完整的互联技术栈。典型的多芯片计算系统互联结构如下图所示：</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../../../../imgs/superpod/%E8%8A%AF%E7%89%87%E4%BA%92%E8%81%94.drawio.svg><img alt=芯片互联.drawio.svg src=../../../../imgs/superpod/%E8%8A%AF%E7%89%87%E4%BA%92%E8%81%94.drawio.svg title=芯片互联.drawio.svg></a></p> <p>芯片（Chip）通常由不同的芯粒（Die）组成，比如CCD（Core Complex Die）和IOD（I/O Die）。其中前者通常包含CPU或GPU的主要计算单元，而后者则负责PCIe、内存控制器等I/O相关功能。通过CCD与IOD不同数量与规格的组合，可以制造出不同规格的芯片产品。在每个Die内部，通常使用片上网络（Network-on-Chip, NOC）来将处理单元（Processing Element, PE）组织起来，形成GPU上的计算单元，比如流式多处理器（Streaming Multiprocessor, SM）。而Die之间通过Die-to-Die（D2D）互联进行通信。芯片之间则通过Chip-to-Chip（C2C）互联进行通信。<br> 不论是片上的NOC通信，还是D2D、C2C通信，都可以在逻辑上分为三层抽象：</p> <ul> <li><strong>物理层</strong>：负责定义互联的物理形态、连接拓扑与信号的电气特性（频率、电压等）。</li> <li><strong>链路层</strong>：负责定义数据如何进行高效可靠的传递，不负责理解数据的内容。</li> <li><strong>事务层</strong>：负责定义事务处理逻辑，比如读写请求、内存一致性等。</li> </ul> <p>为了方便理解，我们通过一张表格描绘当前NOC、D2D和C2C三层通信在物理、链路和事务三层之上有哪些选择：</p> <table> <thead> <tr> <th></th> <th>物理层</th> <th>链路层</th> <th>事务层</th> </tr> </thead> <tbody> <tr> <td>Die内通信</td> <td>自定义的金属走线<br>使用数字信号</td> <td>NoC网络<br>包含路由算法的定义<br>流控机制和数据包定义</td> <td>片上总线协议，比如<br>AMBA AXI和AMBA CHI</td> </tr> <tr> <td>Die间通信</td> <td>- <strong>BoW (Bunch of Wires)</strong>：OCP定义的简化的die-to-die互连物理层协议<br>- <strong>UCIe PHY</strong>：UCIE的物理层规范<br>- 私有规范，比如AMD Infinity Fabric PHY, Intel AIB/Foveros PHY</td> <td><strong>UCIe D2D Adapter</strong>: 负责链路训练、管理、CRC校验、重传机制<br><strong>私有实现</strong>: AMD/Intel的私有链路管理逻辑</td> <td><strong>私有实现</strong>: AMD Infinity Fabric Protocol (支持一致性)<br><strong>UCIe Protocol Layer</strong>: 承载 <strong>PCIe</strong>, <strong>CXL</strong>, 和其他原生流协议(Streaming)</td> </tr> <tr> <td>片间通信</td> <td>- <strong>CEI</strong>: OIF制定的高速电气I/O规范，包含25.6G/56G/112G等多种规范<br>- <strong>PCIe PHY</strong>: 遵循或参考CEI<br>- <strong>NVLink PHY</strong>: NVIDIA私有SerDes实现<br>- <strong>以太网PHY</strong>: 如以太网光/电模块</td> <td><strong>PCIe Link Layer</strong>: 流量控制、ACK/NAK、数据包排序<br><strong>CXL.io Link Layer</strong>: 复用PCIe的链路层<br><strong>NVLink Link Layer</strong>: NVIDIA私有链路管理和流控<br><strong>Ethernet MAC Layer / RoCE</strong></td> <td><strong>PCIe Transaction Layer</strong>: 内存读写(RW)、配置、消息<br><strong>CXL (.cache &amp; .mem)</strong>: 实现缓存一致性、内存扩展<br><strong>NVLink Protocol</strong>: GPU间P2P内存访问、原子操作<br><strong>TCP/IP, RoCEv2</strong>: 基于以太网的应用层协议</td> </tr> </tbody> </table> <h3 id=_5>电互联关键技术基础<a class=headerlink href=#_5 title="Permanent link">¶</a></h3> <h4 id=laneserdes>基础物理单元：Lane与SerDes<a class=headerlink href=#laneserdes title="Permanent link">¶</a></h4> <p>当前高速数字信号通信普遍采用串行通信技术。其基础物理单元是 <strong>Lane</strong>，一个 Lane 通常由两对差分信号线组成：一对用于发送（Tx），一对用于接收（Rx），从而实现全双工通信。无论是 PCIe、NVLink 还是高速以太网，都是通过将多个 Lane 聚合（bonding）来获得更高总带宽。</p> <p>芯片内部的数据通常是并行的（如 64 位或 128 位），为了在 Lane 上进行高速串行传输，需要一种专门的电路负责并行数据与串行信号之间的转换。这种电路被称为 <strong>SerDes</strong> (Serializer/Deserializer，串行器/解串器)。SerDes 将芯片内部的并行数据转换为高速串行信号发送出去，并在接收端将串行信号转换回并行数据。因此，单条 Lane 的传输速率直接受 SerDes 的能力和传输介质（线缆、PCB走线）的物理特性限制。</p> <h4 id=oif-cei>标准化接口：OIF-CEI规范<a class=headerlink href=#oif-cei title="Permanent link">¶</a></h4> <p>为了确保不同厂商设备间的互联互通，光互联论坛（OIF）制定了通用电气接口（CEI）规范，对电气接口的物理形态、电压、频率以及信号调制方式等进行了标准化。例如，CEI-56G/112G/224G 等规范定义了单通道（per-lane）在 56Gbps、112Gbps、224Gbps 速率下的接口标准，其中广泛使用了 PAM4（4-Level Pulse Amplitude Modulation）等高级调制技术来提升数据速率。这些规范被 PCIe、CXL、NVLink 和以太网等主流互联协议广泛采纳或参考，作为其物理层设计的基础。</p> <h4 id=cei>主流协议的CEI实现<a class=headerlink href=#cei title="Permanent link">¶</a></h4> <p>PCIe 和 NVLink 作为两种主流的片间互联协议，其核心创新在于链路层与事务层，而在物理层则高度依赖成熟的电气标准。它们的物理层设计与 CEI 规范密切相关，通常会选择某个版本的 CEI 规范作为其 SerDes 设计的电气基础，从而在确保信号可靠性的前提下，专注于上层协议的优化。例如：</p> <ul> <li><strong>PCIe</strong>: PCIe 5.0 的 32 GT/s 速率在电气特性上参考了 OIF CEI-28G 标准。而到了 PCIe 6.0，其 64 GT/s 的速率采用了 PAM4 调制技术，其电气特性与 OIF CEI-56G 系列标准的设计原则更为接近。</li> <li><strong>NVLink</strong>: NVIDIA H100 GPU 使用的第四代 NVLink，其单 Lane 单向速率为 100 Gbps（采用PAM4调制，波特率为50Gbaud），这与 OIF CEI-56G-PAM4 标准的电气特性一致。未来的 NVLink 版本预计将继续跟进更高速率的 CEI-112G/224G 标准。</li> </ul> <p>通过这种方式，PCIe 和 NVLink 等协议可以复用业界成熟的电气标准，专注于其上层协议的创新。因此，OIF-CEI 规范的演进路线图，也成为了预判整个互联技术发展的关键风向标。目前CEI规范的主要节点如下：</p> <table> <thead> <tr> <th style="text-align: left;">规范系列</th> <th style="text-align: left;">发布年份 (约)</th> <th style="text-align: left;">单通道速率 (Gbps)</th> <th style="text-align: left;">调制方式</th> <th style="text-align: left;">典型应用/参考协议</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;"><strong>CEI-28G</strong></td> <td style="text-align: left;">~2011</td> <td style="text-align: left;">28</td> <td style="text-align: left;">NRZ</td> <td style="text-align: left;">100G 以太网 (4x25G), PCIe 4.0/5.0, InfiniBand EDR</td> </tr> <tr> <td style="text-align: left;"><strong>CEI-56G</strong></td> <td style="text-align: left;">~2017</td> <td style="text-align: left;">56</td> <td style="text-align: left;">PAM4</td> <td style="text-align: left;">200G/400G 以太网, PCIe 6.0, NVLink 4.0 (H100)</td> </tr> <tr> <td style="text-align: left;"><strong>CEI-112G</strong></td> <td style="text-align: left;">~2022</td> <td style="text-align: left;">112</td> <td style="text-align: left;">PAM4</td> <td style="text-align: left;">800G 以太网, CXL 3.0, 下一代 NVLink</td> </tr> <tr> <td style="text-align: left;"><strong>CEI-224G</strong></td> <td style="text-align: left;">-</td> <td style="text-align: left;">224</td> <td style="text-align: left;">PAM4</td> <td style="text-align: left;">1.6T/3.2T 以太网, 未来高速互联</td> </tr> </tbody> </table> <p><small><br> <em>注：NRZ (Non-Return-to-Zero) 每符号传输 1 bit 数据，PAM4 (Pulse Amplitude Modulation 4-level) 每符号传输 2 bit 数据，在相同波特率下可实现双倍数据速率。</em><br> </small></p> <p>OIF-CEI规范通常5-6年更新一代，每次发布新版本时速率翻倍。但上文提到的时间为定稿时间，在定稿前行业内就会有较多的讨论和实现，因此不能完全以规范的时间来推测相关产品的面世时间。</p> <h3 id=_6>电互联交换芯片的演进<a class=headerlink href=#_6 title="Permanent link">¶</a></h3> <p>交换芯片(Switch ASIC)是构建互联网络的核心，其交换容量和SerDes速率直接决定网络总带宽和端口密度。根据应用场景不同，主要分为数据中心网络交换芯片和GPU专用交换芯片两类。</p> <h4 id=_7>数据中心网络交换芯片<a class=headerlink href=#_7 title="Permanent link">¶</a></h4> <p>以Broadcom Tomahawk系列为代表的数据中心交换芯片，其演进与OIF-CEI规范紧密相关：</p> <table> <thead> <tr> <th style="text-align: left;">交换容量 (Tbps)</th> <th style="text-align: left;">SerDes 速率 (每Lane)</th> <th style="text-align: left;">CEI 代际对应</th> <th style="text-align: left;">代表芯片 (发布年)</th> <th style="text-align: left;">可支持的典型 4-Lane 端口 (示例)</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;">3.2T</td> <td style="text-align: left;">25G NRZ</td> <td style="text-align: left;">CEI-28G</td> <td style="text-align: left;">Tomahawk (2014)</td> <td style="text-align: left;">32 x 100G (4x25G)</td> </tr> <tr> <td style="text-align: left;">6.4T</td> <td style="text-align: left;">25G NRZ</td> <td style="text-align: left;">CEI-28G</td> <td style="text-align: left;">Tomahawk 2 (2016)</td> <td style="text-align: left;">64 x 100G (4x25G)</td> </tr> <tr> <td style="text-align: left;">12.8T</td> <td style="text-align: left;">50G PAM4</td> <td style="text-align: left;">CEI-56G</td> <td style="text-align: left;">Tomahawk 3 (2018)</td> <td style="text-align: left;">64 x 200G (4x50G)</td> </tr> <tr> <td style="text-align: left;">25.6T</td> <td style="text-align: left;">100G PAM4</td> <td style="text-align: left;">CEI-112G</td> <td style="text-align: left;">Tomahawk 4 (2020)</td> <td style="text-align: left;">64 x 400G (4x100G)</td> </tr> <tr> <td style="text-align: left;">51.2T</td> <td style="text-align: left;">100G PAM4</td> <td style="text-align: left;">CEI-112G</td> <td style="text-align: left;">Tomahawk 5 (2022)</td> <td style="text-align: left;">128 x 400G (4x100G)</td> </tr> <tr> <td style="text-align: left;">102.4T (预测)</td> <td style="text-align: left;">200G PAM4</td> <td style="text-align: left;">CEI-224G</td> <td style="text-align: left;">下一代 (≈2025+)</td> <td style="text-align: left;">128 x 800G (4x200G) 或 64 x 1.6T (8x200G, 非 4-Lane)</td> </tr> </tbody> </table> <p><small><br> <em>注：上表中的“4-Lane 端口”指由 4 个 SerDes 通道组成的逻辑端口，在常见的国产GPU厂商中比较常见此种配置。例如，一个 100G 端口由 4x25G 组成，一个 400G 端口可由 4x100G 组成。随着 SerDes 速率翻倍，单芯片的总交换容量和端口速率也随之翻倍，这是网络技术演进的核心驱动力。</em><br> </small></p> <p>Broadcom的高端交换芯片通常两年一代，交换容量翻倍。而从芯片产品面世到广泛被交换机使用，大约也需要1-2年时间。此外，从Broadcom芯片规格的发展也能看出，行业领先厂商对CEI标准的实现和落地通常会先于规范的正式定稿。</p> <h4 id=gpunvswitch>GPU专用交换芯片：NVSwitch<a class=headerlink href=#gpunvswitch title="Permanent link">¶</a></h4> <p>NVSwitch 负责在单机或机柜域内构建 GPU 全互连（all-to-all / non-blocking）通信结构，其能力随 NVLink 代际一起提升。提升路径主要有两种：增加每 GPU 可用的 NVLink 数量（link fan-out）与提高单条 NVLink 的速率。下表采用 “GB/s (双向)” 口径（NVIDIA 官方常用聚合带宽，等于 2 × 单方向带宽；1 GB/s ≈ 8 Gb/s）。本表中：† 表示来自官方白皮书 / 数据手册 / Keynote；* 表示根据公开演讲、产品图片、拓扑描述或带宽反推的推测/半推测值；未标记默认为公开资料已多点交叉验证。</p> <table> <thead> <tr> <th style="text-align: left;">代际</th> <th style="text-align: left;">GPU 架构</th> <th style="text-align: left;">发布（约）</th> <th style="text-align: left;">NVLink 版本</th> <th style="text-align: left;">每 Link Lane 数</th> <th style="text-align: left;">每 Lane 速率 (Gbps)</th> <th style="text-align: left;">每 Link 双向带宽 (GB/s)</th> <th style="text-align: left;">每 GPU Link 数</th> <th style="text-align: left;">每 GPU 聚合双向带宽 (GB/s)</th> <th style="text-align: left;">典型单机/底板 GPU 数</th> <th style="text-align: left;">可扩展最大 NVLink 域（官方宣称）</th> <th style="text-align: left;">备注</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;">第1代</td> <td style="text-align: left;">Volta</td> <td style="text-align: left;">2018</td> <td style="text-align: left;">2.0</td> <td style="text-align: left;">8*</td> <td style="text-align: left;">25†</td> <td style="text-align: left;">50†</td> <td style="text-align: left;">6†</td> <td style="text-align: left;">300†</td> <td style="text-align: left;">16†</td> <td style="text-align: left;">16†</td> <td style="text-align: left;">16‑GPU DGX‑2 NVSwitch 拓扑；Lane 数依据公开拆解/布线推测 [^nvswitch_volta]</td> </tr> <tr> <td style="text-align: left;">第2代</td> <td style="text-align: left;">Ampere</td> <td style="text-align: left;">2020</td> <td style="text-align: left;">3.0</td> <td style="text-align: left;">4*</td> <td style="text-align: left;">50†</td> <td style="text-align: left;">50†</td> <td style="text-align: left;">12†</td> <td style="text-align: left;">600†</td> <td style="text-align: left;">8†</td> <td style="text-align: left;">16†</td> <td style="text-align: left;">HGX A100（8-GPU板）官方聚合 600GB/s；Lane 数由 Link 速率与功耗折中推测 [^nvlink3]</td> </tr> <tr> <td style="text-align: left;">第3代</td> <td style="text-align: left;">Hopper</td> <td style="text-align: left;">2022</td> <td style="text-align: left;">4.0</td> <td style="text-align: left;">4*</td> <td style="text-align: left;">100†</td> <td style="text-align: left;">100†</td> <td style="text-align: left;">18†</td> <td style="text-align: left;">1800†</td> <td style="text-align: left;">8†</td> <td style="text-align: left;">256†</td> <td style="text-align: left;">NVLink 4.0 单 GPU 900GB/s(单向450)→双向1800；最大 NVL256 由官方架构介绍 [^nvlink4] <sup id=fnref:nvl32><a class=footnote-ref href=#fn:nvl32>11</a></sup></td> </tr> <tr> <td style="text-align: left;">第4代</td> <td style="text-align: left;">Blackwell</td> <td style="text-align: left;">2025</td> <td style="text-align: left;">5.0</td> <td style="text-align: left;">4*</td> <td style="text-align: left;">200†</td> <td style="text-align: left;">200†</td> <td style="text-align: left;">18†</td> <td style="text-align: left;">3600†</td> <td style="text-align: left;">72†</td> <td style="text-align: left;">576*</td> <td style="text-align: left;">NVLink 5.0 进 Keynote 公布速率；NVL72 / 576 为 GTC 公布 + 对 NVLink Fabric 分层规模推测 [^nvlink5] <sup id=fnref2:gb200><a class=footnote-ref href=#fn:gb200>2</a></sup></td> </tr> </tbody> </table> <p><small><br> 说明：</small></p> <ol> <li>“每 Link 双向带宽”遵循 NVIDIA 常用口径（聚合双向）。</li> <li>Lane 数由于官方文档通常未直接公布，表中以 * 标示；其值通过已知总带宽、单 Lane 速率与历代封装约束反向推断。如未来出现官方差异数据，应以官方为准。</li> <li>“最大 NVLink 域”指官方在对应代际提及的（或 Keynote 展示的）最大可支持互联规模；Blackwell 576 带 * 为推测（推断自 72×GB200 NVL72 单元 × 互联分层聚合）。</li> <li>Volta 时代 NVLink 2.0 在 NVSwitch 中实现的 Fan-out、Lane 数量公开资料缺少直接原始表格，使用多来源拆解/演讲交叉验证。<br> </li> </ol> <h3 id=_8>互联拓扑<a class=headerlink href=#_8 title="Permanent link">¶</a></h3> <p>互联拓扑定义了计算节点（或GPU）间的物理连接方式与逻辑结构，它直接决定了整个系统的通信性能，包括带宽、延迟、扩展性和成本。在超节点架构中，选择合适的拓扑是构建高效、无阻塞通信域的基石。当前主流技术路径为电子分组交换（Electronic Packet Switching，EPS），而光学电路交换（Optical Circuit Switching，OCS）作为前沿方向也备受关注。我们首先以最为常见的 <strong>Full Mesh拓扑</strong> 为例来分析GPU的互联拓扑，以及互联拓扑有哪些关键性质。</p> <p><strong>Full Mesh（全互联）</strong> ，或称全连接（All-to-All），是理论上最理想的通信拓扑结构。网络中的每一个节点都与其他所有节点建立直接的点对点连接。</p> <pre class=mermaid><code>block-beta
    columns 7
    space:2 N0 space N1 space:2
    space:7
    N7 space:5 N2
    space:7
    N6 space:5 N3
    space:7
    space:2 N5 space N4

    N0 --- N1
    N0 --- N2
    N0 --- N3
    N0 --- N4
    N0 --- N5
    N0 --- N6
    N0 --- N7
    N1 --- N2
    N1 --- N3
    N1 --- N4
    N1 --- N5
    N1 --- N6
    N1 --- N7
    N2 --- N3
    N2 --- N4
    N2 --- N5
    N2 --- N6
    N2 --- N7
    N3 --- N4
    N3 --- N5
    N3 --- N6
    N3 --- N7
    N4 --- N5
    N4 --- N6
    N4 --- N7
    N5 --- N6
    N5 --- N7
    N6 --- N7</code></pre> <p>为了能够定量比较不同的互联拓扑，需要引入一些关键指标：</p> <ul> <li><strong>网络直径（Network Diameter）</strong>：指网络中任意两个节点间的最短路径长度，刻画了最坏情况下的通信延迟。Full Mesh拓扑中任意两个节点直接连接，因此 <strong>网络直径为1</strong> 。在Fat-Tree拓扑中，任意两个节点间的通信最多只需经过“上行-下行”三跳（Leaf-Spine-Leaf），因此 <strong>网络直径为3</strong> 。</li> <li><strong>二分带宽（Bisection Bandwidth）</strong>：指当网络被切成两半时，连接这两半部分的总通信能力。它反映了网络在最坏通信场景下的最大数据传输能力。在Full Mesh拓扑中，一半网络有 <span class=arithmatex>\(N/2\)</span> 个节点，每个节点有 <span class=arithmatex>\(N/2\)</span> 条链路连接到另一半网络，因此Full Mesh拓扑的二分带宽为 <span class=arithmatex>\(\dfrac{N}{2} \times \dfrac{N}{2} \times B = \dfrac{N^2}{4} B\)</span> 。在Fat-Tree拓扑下，一半网络有 <span class=arithmatex>\(N/2\)</span> 个节点，每个节点都能与另一半网络全速率通信，因此Fat-Tree拓扑的二分带宽为 <span class=arithmatex>\(\dfrac{N}{2} B\)</span>。</li> <li><strong>径向扩展度（Radix Scalability）</strong>：指在给定交换芯片 radix 条件下的最大无阻塞集群规模 <span class=arithmatex>\(N_{max}\)</span> 。它衡量了在给定交换芯片端口数（R_switch）和终端设备接口数（R_dev）的条件下，一个拓扑理论上能构建的最大无阻塞集群规模。Full Mesh拓扑下，互联规模 <span class=arithmatex>\(N_{max} = R_{dev} + 1\)</span> ，Fat-Tree拓扑下 <span class=arithmatex>\(N_{max} = R_{switch}^2 / 2 / R_{dev}\)</span> 。</li> </ul> <p>接下来介绍构建Scale-Up域用的拓扑结构。</p> <p><strong>Fat-Tree（胖树）</strong> 拓扑是当前构建大规模、高性能计算和AI集群最主流的架构。它是一种分层的网络结构，其核心设计思想是：从网络边缘（终端节点）向核心（根方向）上行时，链路带宽逐级增加，确保任意两个节点间的通信都拥有充足的带宽资源，从而实现或逼近“无阻塞”通信。典型的胖树网络由“叶交换机”（Leaf Switches）和“脊交换机”（Spine Switches）组成。计算节点直接连接到叶交换机，每个叶交换机又与所有脊交换机相连。这种结构保证了任意两个不同叶交换机下的节点通信最多只需经过“上行-下行”三跳（Leaf-Spine-Leaf）。Fat-Tree拓扑具备如下特点：</p> <ul> <li><strong>高带宽与无阻塞</strong>：通过精心设计上行与下行链路的带宽比例（收敛比），胖树网络可以为All-to-All等复杂通信模式提供接近线速的聚合带宽。</li> <li><strong>良好的扩展性</strong>：可以通过增加Spine交换机或增加网络层级来平滑地扩展集群规模。</li> <li><strong>高容错性</strong>：任意一条链路或交换机故障，流量可以被重新路由到其他路径，不会导致单点失效。</li> </ul> <p>NVIDIA的DGX SuperPOD架构本质上就是一个精心设计的两级Fat-Tree网络。</p> <ul> <li><strong>第一级</strong>：在单个节点内部，多颗NVSwitch芯片构建了一个单级的、逻辑上完全无阻塞的全互联网络（Full Mesh），将域内所有GPU全互联起来。</li> <li><strong>第二级</strong>： 第一级的NVSwitch再通过第二级的NVSwitch进行互联，形成一个32卡的Scale-Up通信域。</li> </ul> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../../../../imgs/superpod/NVL32.png><img alt="alt text" src=../../../../imgs/superpod/NVL32.png width=68%></a></p> <p><strong>Dragonfly拓扑</strong><sup id=fnref:dragonfly><a class=footnote-ref href=#fn:dragonfly>5</a></sup> 是一种为超大规模计算设计的、旨在降低网络直径和成本的拓扑结构。它将路由器（交换机）和与之相连的计算节点组织成“组”（Group）。组内，路由器之间实现全互联（All-to-All）。组间，通过长距离的“全局链路”进行稀疏连接。Dragonfly拓扑具备如下特点：</p> <ul> <li><strong>低网络直径</strong>：任意两个节点间的通信路径非常短，通常最多只需一跳组内路由和一跳全局路由。</li> <li><strong>成本效益</strong>：相比于同等规模的全连接胖树，Dragonfly所需的全局链路和交换机端口更少，成本更低。</li> </ul> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../../../../imgs/superpod/dragonfly.png><img alt="alt text" src=../../../../imgs/superpod/dragonfly.png width=68%></a></p> <p>Dragonfly的挑战在于，全局链路相对稀疏，就像一个城市的主干道有限。如果路由策略不佳，所有流量都涌向少数几条主干道，就会造成严重的拥堵。因此，它必须依赖智能的、能感知全局负载的路由算法，动态地为数据包规划‘行车路线’，才能发挥其低延迟和成本优势。</p> <p><strong>Torus拓扑</strong><sup id=fnref:torus><a class=footnote-ref href=#fn:torus>6</a></sup> 是一种规则的格状拓扑，在多维（如2D、3D、6D）网格的每个维度上都带有“环绕式”连接。每个节点都与其在各个维度上的“邻居”直接相连。Torus拓扑具备如下特点：</p> <ul> <li><strong>优异的局部性</strong>：非常适合具有邻近通信模式的科学计算应用（如气象模拟、流体力学），因为相邻节点间通信延迟极低。</li> <li><strong>二分带宽较低</strong>：将其切成两半时，横跨切面的链路数量相对较少，这意味着其全局All-to-All通信性能不如胖树。</li> <li><strong>扩展性受限</strong>：高维Torus布线复杂，扩展成本高。</li> </ul> <p><strong>SlimFly拓扑</strong> <sup id=fnref:slimfly><a class=footnote-ref href=#fn:slimfly>7</a></sup>：作为Dragonfly的演进，SlimFly是一种在给定交换机端口数下，能够以更少的网络直径和接近最优的二分带宽连接更多节点的拓扑结构。它在理论上被证明是构建超大规模网络最高效的拓扑之一，但其不规则的连接方式对物理布线和路由算法设计提出了极高挑战，目前更多处于学术研究和前沿探索阶段。</p> <p>对于以All-to-All和All-Reduce为主导通信模式的AI大模型训练而言，胖树拓扑因其优越的全局带宽特性与确定的网络直径而成为事实上的标准选择。但另一方面，Fat-Tree所能达到的互联规模也受限于交换机容量。在超节点继续演进的过程中，对互联拓扑的探索也尤为重要：</p> <table> <thead> <tr> <th>拓扑</th> <th>径向扩展度</th> <th>网络直径</th> <th>二分带宽</th> </tr> </thead> <tbody> <tr> <td>Full Mesh</td> <td><span class=arithmatex>\(R_{dev} + 1\)</span></td> <td>1</td> <td><span class=arithmatex>\(\dfrac{N^2}{4} B\)</span></td> </tr> <tr> <td>Fat-Tree</td> <td><span class=arithmatex>\(\dfrac{R_{switch}^2}{2 R_{dev}}\)</span></td> <td>3</td> <td><span class=arithmatex>\(\dfrac{N}{2} B\)</span></td> </tr> <tr> <td>Dragonfly</td> <td><span class=arithmatex>\(\dfrac{R_{switch}^4}{81 R_{dev}}\)</span></td> <td><span class=arithmatex>\(\le 3\)</span></td> <td><span class=arithmatex>\(\approx \dfrac{N}{2}B\)</span></td> </tr> <tr> <td>Torus</td> <td>无上界</td> <td><span class=arithmatex>\(D \cdot \dfrac{k}{2}\)</span></td> <td></td> </tr> <tr> <td>Slim Fly</td> <td><span class=arithmatex>\(\dfrac{32}{243} \times \dfrac{R_{switch}^3}{R_{dev}}\)</span></td> <td>2–3</td> <td>设计为接近满二分带宽</td> </tr> </tbody> </table> <h2 id=_9>软件系统<a class=headerlink href=#_9 title="Permanent link">¶</a></h2> <p>软件系统架构的根本决定因素是内存模型。传统操作系统内核围绕CPU访存权限进行设计，通过虚拟内存管理、页表机制和TLB等组件构建了现代计算的基础。同样，PCIe引入的MMIO（Memory Mapped I/O）机制决定了内核驱动的编程范式，设备寄存器被映射到统一的地址空间，通过内存访问指令进行控制。</p> <p>超节点的出现从根本上改变了这一范式。通过NVLink/NVSwitch等高速互联技术构建的HBD（High Bandwidth Domain）通信域，使得远程GPU显存能够以接近本地访问的性能被直接访问。为了实现高效通信，HBD域上正在构建一个能 <strong>绕过（Bypass）CPU和操作系统内核</strong> 的、由GPU主导的通信架构。在这个新架构下，访存的控制权发生了转移：</p> <ol> <li><strong>从CPU中心到GPU中心</strong>：跨GPU的内存访问不再需要CPU作为中介，而是由GPU的MMU（内存管理单元）直接发起，由硬件（如NVSwitch）进行路由。</li> <li><strong>从内核态仲裁到用户态直通</strong>：上层应用（如CUDA Kernel）通过统一虚拟地址（UVA）操作远程数据，其地址翻译和路由完全在硬件层面透明完成，内核仅在初始设置和资源管理时介入。</li> </ol> <p>为了更好地理解超节点带来的这一变革，接下来从GPU访存体系入手来分析软件系统的演进路径。</p> <h3 id=gpu>现代GPU访存体系<a class=headerlink href=#gpu title="Permanent link">¶</a></h3> <p>NVIDIA超节点在软件系统架构上与其 <strong>单个节点内部</strong> 的GPU访存体系一脉相承，均围绕 <strong>UVA（Unified Virtual Addressing）</strong> 技术构建。与传统CPU类似，现代GPU也配备了完整的内存管理单元（MMU），负责虚拟地址到物理地址的转换。UVA技术的引入，将GPU显存、CPU内存等不同物理内存统一映射到单一的虚拟地址空间中。上一章我们讨论了NVLink和NVSwitch等物理互联技术，它们构建了数据传输的高速公路。软件层面利用这条高速公路的核心便是统一虚拟寻址（UVA）与对等内存访问（Peer Memory Access）：</p> <ol> <li><strong>发现与连接建立</strong>：系统中的GPU通过物理总线（如NVLink或PCIe）互相发现，建立对等连接并分配唯一的Peer ID。</li> </ol> <pre class=mermaid><code>graph LR
    A[GPU-A] ---|NVLINK/PCIe| B[GPU-B]
    A --&gt; C[发现 Peer GPU]
    B --&gt; D[建立 Peer 连接]
    C --&gt; E[分配 Peer ID]
    D --&gt; E</code></pre> <ol start=2> <li><strong>Aperture选择与地址映射</strong> ：驱动程序分配UVA地址，并根据连接类型选择不同的Aperture通道：<br> - <strong>本地显存 (VID Memory)</strong> ：同一GPU内的内存访问<br> - <strong>对等内存 (Peer Memory)</strong> ：通过NVLink直接访问远程GPU显存<br> - <strong>系统内存 (SYS Memory)</strong> ：通过PCIe访问CPU主存<br> - <strong>Fabric内存</strong> ：在NVSwitch环境下的专用地址空间</li> <li><strong>硬件透明的远程访存</strong> ：当CUDA Kernel访问虚拟地址时，GPU MMU自动完成地址翻译和路由。硬件MMU通常提供4-5级页表，支持4K-128K页大小。考虑到MMU页表中的地址可能并非全部是内存地址，也包含部分IO地址。因此GPU MMU的表项也会标识是否支持缓存一致性。</li> </ol> <p>以下是GPU上访问UVA地址的流程：</p> <p><pre class=mermaid><code>sequenceDiagram
    participant App as 应用程序&lt;br&gt;(CUDA Kernel)
    participant LocalMMU as 本地GPU MMU
    participant Interconnect as NVLink/NVSwitch
    participant RemoteGPU as 远程GPU

    App-&gt;&gt;LocalMMU: 1. 访问虚拟地址 0x1000
    activate LocalMMU
    LocalMMU--&gt;&gt;LocalMMU: 2. 查页表, 发现PTE指向Peer
    LocalMMU-&gt;&gt;Interconnect: 3. 发起硬件路由请求
    deactivate LocalMMU

    activate Interconnect
    Interconnect-&gt;&gt;RemoteGPU: 4. 转发内存访问请求
    deactivate Interconnect

    activate RemoteGPU
    RemoteGPU--&gt;&gt;RemoteGPU: 5. 访问本地物理显存
    Note right of RemoteGPU: 数据被读取/写入
    RemoteGPU--&gt;&gt;App: 6. (经由硬件)返回结果
    deactivate RemoteGPU</code></pre><br> UVA在节点内实现的编程透明性与硬件高效性，为构建更大规模、跨节点的统一地址空间奠定了范式基础。随着硬件演进，软件侧的地址模型与编程范式也在逐步向CPU成熟的体系靠拢。总体趋势是：CPU与OS内核正从“关键数据路径”中解放出来，转而扮演“控制平面”的角色，通过配置虚拟地址与MMU来管理访存与通信，而非直接参与每一次操作。</p> <h3 id=_10>超节点访存体系<a class=headerlink href=#_10 title="Permanent link">¶</a></h3> <p>传统的UVA和PCIe P2P机制的边界仅限于单个PCIe根联合体（Root Complex），无法原生支持跨物理服务器节点的直接访存。以下是PCIe总线上节点内部的访存体系：</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../../../../imgs/superpod/MMIO.drawio.svg><img alt=mmio src=../../../../imgs/superpod/MMIO.drawio.svg></a></p> <ol> <li>主存、设备的控制寄存器和设备内置存储（比如显存）都会通过PCIE RC映射到一个统一的MMIO地址空间（Memory Mapped I/O）；</li> <li>在内核态，设备驱动通过MMIO地址操作设备寄存器，从而实现对设备的初始化、控制与中断处理；</li> <li>在用户态，可以直接将设备的存储映射到用户态地址空间，从而实现用户态对设备的直接读写，让数据路径by pass内核。GPU Direct RDMA技术即将部分显存映射到用户态，再交给RDMA网卡去访问。RDMA网卡的doorbell寄存器（用于通知网卡有工作需要处理）也可以通过这种映射交给GPU去访问，从而实现IBGDA（GPU异步RDMA数据发送）；</li> </ol> <p>在传统的基于PC的AI算力服务器上，上述软件技术架构已成为事实标准。然而，在超节点中，上述访存体系面临本质缺陷：PCIe通信域无法纳管其他节点的设备，因此也无法提供跨节点的统一访存地址空间。</p> <p>超节点通过NVSwitch Fabric等技术，将“节点内”的P2P模型扩展至整个机柜乃至多个机柜。其关键在于引入了一个由 <strong>Fabric Manager</strong> 管理的<sup id=fnref:fabricmanager><a class=footnote-ref href=#fn:fabricmanager>8</a></sup> <strong>47-bit的 全局物理地址空间</strong> ：</p> <ol> <li><strong>全局地址分配</strong>：Fabric Manager为HBD域内的每个GPU分配一个唯一的、在全局范围内无冲突的物理地址（PA）范围。</li> <li><strong>VA到全局PA的映射</strong>：当一个GPU需要访问远程GPU时，其驱动程序不再映射到对端的PCIe BAR地址，而是将用户态的虚拟地址（VA）通过页表（PTE）映射到这个全局物理地址（PA）。</li> <li><strong>硬件路由</strong>：当GPU的MMU翻译VA并得到这个全局PA时，它会生成一个带有目标GPU ID的硬件请求。该请求被发送到NVSwitch网络，由交换芯片根据地址和ID，像路由器转发IP包一样，精准地将读写操作路由到目标GPU的物理显存上。</li> </ol> <h3 id=_11>软件编程模型<a class=headerlink href=#_11 title="Permanent link">¶</a></h3> <p>超节点的硬件发展催生了软件编程模型的演进。当前主流的SPMD范式正面临挑战，而以PGAS为代表的新范式则为解决这些挑战提供了清晰的路径。</p> <h4 id=spmd-bsp>主流范式及其瓶颈：SPMD 与 BSP<a class=headerlink href=#spmd-bsp title="Permanent link">¶</a></h4> <p>当前几乎所有大规模AI训练都构建于 <strong>SPMD (Single Program, Multiple Data)</strong> 模型之上。所有GPU运行相同程序，处理不同数据分片，并通过<code>NCCL</code>等库进行高效的集合通信。</p> <p>其成功源于其遵循了 <strong>BSP (Bulk Synchronous Parallel, 块同步并行)</strong> 的计算范式。BSP将并行计算清晰地分为三个阶段：1) 本地计算，2) 全局通信，3) <strong>同步屏障 (Barrier)</strong>。所有GPU必须在屏障处等待，直到最慢的那个GPU完成后，才能一起进入下一阶段。</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../../../../imgs/superpod/bsp.png><img alt="alt text" src=../../../../imgs/superpod/bsp.png></a></p> <p>这种严格的同步正是其最大的弱点。在大规模集群中，“慢节点” (Straggler) 问题几乎无法避免，而BSP模型会放大其负面影响。一个节点的延迟会拖慢整个集群。慢节点产生的原因多种多样：</p> <ul> <li><strong>硬件层面</strong>：微小的时钟频率差异、功耗墙限制、网络瞬时拥塞。</li> <li><strong>软件层面</strong>：操作系统后台进程的干扰 (Jitter)。</li> <li><strong>数据层面</strong>：这在现代AI负载中愈发关键。例如，在 <strong>MoE模型</strong> 中，不同的数据（Token）会被路由到不同的专家，导致专家负载不均；在 <strong>强化学习</strong> 或 <strong>长序列推理</strong> 中，输出序列长度不定，导致各GPU计算时间不同。</li> </ul> <p>在这些场景下，BSP的同步屏障会导致大量GPU处于空闲等待状态，极大地降低了计算效率。正是为了解决这一根本性矛盾，业界开始转向更为灵活的编程模型。</p> <h4 id=pgas>PGAS 与混合编程<a class=headerlink href=#pgas title="Permanent link">¶</a></h4> <p><strong>PGAS (Partitioned Global Address Space)</strong> 是解决上述瓶颈的未来方向之一。它通过 <strong>单边通信 (One-Sided Communication)</strong> ，从根本上改变了数据交换的模式。</p> <table> <thead> <tr> <th style="text-align: left;">特性</th> <th style="text-align: left;">SPMD + 集合通信 (NCCL)</th> <th style="text-align: left;">PGAS + 单边通信 (NVSHMEM)</th> </tr> </thead> <tbody> <tr> <td style="text-align: left;"><strong>通信模型</strong></td> <td style="text-align: left;"><strong>双边 (Two-Sided)</strong>：<code>Send</code>与<code>Recv</code>需配对，依赖集体同步。</td> <td style="text-align: left;"><strong>单边 (One-Sided)</strong>：<code>Put</code>/<code>Get</code>无需对方协同，可异步执行。</td> </tr> <tr> <td style="text-align: left;"><strong>编程抽象</strong></td> <td style="text-align: left;"><strong>通信是集体操作</strong>：<code>AllReduce(data)</code></td> <td style="text-align: left;"><strong>通信如内存访问</strong>：<code>put(&amp;dest, &amp;src, size)</code></td> </tr> <tr> <td style="text-align: left;"><strong>适用负载</strong></td> <td style="text-align: left;"><strong>静态、均匀</strong> (如稠密模型训练)</td> <td style="text-align: left;"><strong>动态、非均匀</strong> (如MoE, 推理)</td> </tr> </tbody> </table> <p>在PGAS模型中，整个分布式系统由众多PE（Processing Elements）组成。为了实现SHMEM语义，对每个PE的地址空间进行如下划分<sup id=fnref:openshmem><a class=footnote-ref href=#fn:openshmem>9</a></sup>：</p> <p><a class=glightbox data-desc-position=bottom data-height=auto data-type=image data-width=auto href=../../../../imgs/superpod/pgas.png><img alt="alt text" src=../../../../imgs/superpod/pgas.png width=68%></a></p> <ol> <li>每个PE都有自己独立的地址空间，这能够映射到不同节点的不同进程中去；</li> <li>进程的内存地址空间分为两部分：</li> <li>Private地址空间，这部分为进程私有，可以被进程随意使用；</li> <li>Symmetric地址空间，这部分为远程可访问的地址空间，所有进程保持一致；</li> </ol> <p>进程可以通过PE的rank与Symmetric Address来读写其他PE的内存，从而实现单边通信。这种单边通信能较好解决“慢节点”问题：它将 <strong>同步的“通信握手”</strong> 变成了 <strong>异步的“内存操作”</strong> 。在双边通信中，一个“快节点”的<code>Send</code>操作必须等待“慢节点”准备好<code>Recv</code>，从而被强制阻塞。而在单边通信中，“快节点”只需知道目标地址，就可以通过<code>Put</code>操作直接将数据写入“慢节点”的内存，然后立即返回执行后续任务。数据写入后，“慢节点”何时去处理它，并不会反过来阻塞“快节点”的进度。这种异步、解耦的机制打破了BSP模型的全局同步枷锁，从而极大地提升了系统在非均匀负载下的计算效率。</p> <h2 id=_12>参考文献<a class=headerlink href=#_12 title="Permanent link">¶</a></h2> <div class=footnote> <hr> <ol> <li id=fn:gh200> <p><a href=https://resources.nvidia.com/en-us-data-center-overview-mc/en-us-data-center-overview/grace-hopper-superchip-datasheet-partner>NVIDIA GH200 Grace Hopper<br> Superchip</a> <a class=footnote-backref href=#fnref:gh200 title="Jump back to footnote 1 in the text">↩</a></p> </li> <li id=fn:gb200> <p><a href=https://resources.nvidia.com/en-us-dgx-systems/dgx-superpod-gb200-datasheet>NVIDIA DGX GB200</a> <a class=footnote-backref href=#fnref:gb200 title="Jump back to footnote 2 in the text">↩</a><a class=footnote-backref href=#fnref2:gb200 title="Jump back to footnote 2 in the text">↩</a></p> </li> <li id=fn:huangs_law> <p><a href=https://spectrum.ieee.org/nvidia-gpu>Huang’s Law</a> <a class=footnote-backref href=#fnref:huangs_law title="Jump back to footnote 3 in the text">↩</a><a class=footnote-backref href=#fnref2:huangs_law title="Jump back to footnote 3 in the text">↩</a></p> </li> <li id=fn:nvhbi> <p><a href=https://developer.nvidia.com/blog/inside-nvidia-blackwell-ultra-the-chip-powering-the-ai-factory-era/ >Inside NVIDIA Blackwell Ultra: The Chip Powering the AI Factory Era</a> <a class=footnote-backref href=#fnref:nvhbi title="Jump back to footnote 4 in the text">↩</a></p> </li> <li id=fn:dragonfly> <p><a href=https://ieeexplore.ieee.org/abstract/document/4556717>Technology-Driven, Highly-Scalable Dragonfly Topology</a> <a class=footnote-backref href=#fnref:dragonfly title="Jump back to footnote 5 in the text">↩</a></p> </li> <li id=fn:torus> <p><a href=http://datasys.cs.iit.edu/reports/2014_GCASR14_paper-torus.pdf>Understanding Torus Network Performance through Simulations</a> <a class=footnote-backref href=#fnref:torus title="Jump back to footnote 6 in the text">↩</a></p> </li> <li id=fn:slimfly> <p><a href=https://arxiv.org/pdf/1912.08968>Slim Fly: A Cost Effective Low-Diameter Network Topology</a> <a class=footnote-backref href=#fnref:slimfly title="Jump back to footnote 7 in the text">↩</a></p> </li> <li id=fn:fabricmanager> <p><a href=https://github.com/NVIDIA/open-gpu-kernel-modules/blob/2b436058a616676ec888ef3814d1db6b2220f2eb/kernel-open/nvidia-uvm/uvm_gpu.h#L1292>Nvidia Fabric Manager</a> <a class=footnote-backref href=#fnref:fabricmanager title="Jump back to footnote 8 in the text">↩</a></p> </li> <li id=fn:openshmem> <p><a href=http://openshmem.org/site/sites/default/site_files/OpenSHMEM-1.5.pdf>OpenSHMEM</a> <a class=footnote-backref href=#fnref:openshmem title="Jump back to footnote 9 in the text">↩</a></p> </li> <li id=fn:hgx_a100> <p><a href=https://www.nvidia.com/content/dam/en-zz/Solutions/Data-Center/HGX/a100-80gb-hgx-a100-datasheet-us-nvidia-1485640-r6-web.pdf>NVIDIA HGX A100</a> <a class=footnote-backref href=#fnref:hgx_a100 title="Jump back to footnote 10 in the text">↩</a></p> </li> <li id=fn:nvl32> <p><a href="https://resources.nvidia.com/en-us-grace-cpu/nvidia-grace-hopper?ncid=no-ncid">NVIDIA GH200 Grace Hopper Superchip Architecture</a> <a class=footnote-backref href=#fnref:nvl32 title="Jump back to footnote 11 in the text">↩</a></p> </li> <li id=fn:nvshmem> <p><a href=https://static.rainfocus.com/nvidia/gtcs24/sess/1693876934119001DqDe/FinalPresPDF/S61368_1710778532525001A5Z4.pdf>Magnum IO GPUDirect, NCCL, NVSHMEM, and GDA-KI on Grace Hopper and Hopper systems</a> <a class=footnote-backref href=#fnref:nvshmem title="Jump back to footnote 12 in the text">↩</a></p> </li> <li id=fn:pathways> <p><a href=https://arxiv.org/abs/2203.12533>Pathways: Asynchronous Distributed Dataflow for ML</a> <a class=footnote-backref href=#fnref:pathways title="Jump back to footnote 13 in the text">↩</a></p> </li> </ol> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年10月5日</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年10月2日</span> </span> </aside> <h2 id=__comments>评论</h2> <script async crossorigin=anonymous data-category=[在此输入分类名] data-category-id="[在此输入分类 ID]" data-emit-metadata=0 data-input-position=bottom data-lang=zh-CN data-mapping=pathname data-reactions-enabled=1 data-repo=reiase/reiase.github.io data-repo-id=R_kgDOHRMrag data-strict=0 data-theme=preferred_color_scheme src=https://giscus.app/client.js>
</script> <!-- Synchronize Giscus theme with palette --> <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate"
        ? "transparent_dark"
        : "light"

      // Instruct Giscus to set theme
      giscus.setAttribute("data-theme", theme) 
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate"
            ? "transparent_dark"
            : "light"

          // Instruct Giscus to change theme
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component=top hidden type=button> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <nav aria-label=页脚 class="md-footer__inner md-grid"> <a aria-label="上一页: Probing分布式探针开发随笔（三）：分布式训练的Profiling" href=../../../04/28/dist_probe_3/ class="md-footer__link md-footer__link--prev"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> 上一页 </span> <div class=md-ellipsis> Probing分布式探针开发随笔（三）：分布式训练的Profiling </div> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2023 - 2025 Reiase </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a> </div> <div class=md-social> <a class=md-social__link href=https://github.com/reiase rel=noopener target=_blank title=github.com> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../../../assets/_markdown_exec_pyodide.js></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>